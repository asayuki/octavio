'use strict';

define([], function () {

  var login = {
    init: function init() {
      var loginForm = document.querySelector('form.login-form');

      loginForm.addEventListener('submit', function (event) {
        event.preventDefault();

        var username = loginForm.querySelector('input[name="username"]').value;
        var password = loginForm.querySelector('input[name="password"]').value;

        if (username === '' || password === '') {
          return false;
        }

        fetch('/api/users/login', {
          method: 'post',
          body: JSON.stringify({
            username: username,
            password: password
          })
        }).then(function (response) {
          console.log(response);
        });
      });
    }
  };

  return login;
});

$num-slides: 10;

/**
 * Calculate nth-child for next-control
 * @param $index - Current index
 */
@function right-side($index) {
  @if $index == ($num-slides - 1) {
    @return 1;
  } @else if $index == ($num-slides + 1) {
    @return ($num-slides + 1);
  } @else if $index == $num-slides {
    @return ($index + 1);
  } @else {
    @return ($index + 2);
  }
}

@function left-side($index) {
  @if $index == 0 {
    @return $num-slides;
  } @else if $index == ($num-slides - 1) {
    @return ($num-slides - 1);
  } @else if $index == $num-slides {
    @return ($index - 1);
  } @else {
    @return ($num-slides - ($index + 1));
  }
}

.slider {
  input {
    display: none;
  }

  @for $i from 0 to $num-slides {
    &.slide-num-#{$i+1} {
      .inner {
        width: unquote( (($i + 1) * 100) + '%');

        .slide {
          width: unquote((100 / ($i + 1)) + '%');
        }
      }
    }

    #slide-#{$i}:checked {
      &~.controls {
        label:nth-child(#{right-side($i)}) {
          border-left: 1px solid gray;
          border-radius: 0 4px 4px 0;
          display: block;
          float: right;

          &:before {
            content: "\e901";
          }
        }

        label:nth-child(#{left-side($i)}) {
          border-right: 1px solid gray;
          border-radius: 4px 0 0 4px;
          display: block;
          float: left;

          &:before {
            content: "\e900";
          }
        }
      }


      &~.slides-container .inner {
        @if $i == 0 {
          margin-left: 0;
        } @else {
          margin-left: unquote('-' + (100 * $i) + '%');
        }
      }
    }


  }

  .controls {
    background: gray;
    border: 2px solid gray;
    border-radius: 4px;
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 100;

    label {
      background: white;
      cursor: pointer;
      display: none;
      height: 40px;
      width: 40px;

      font-family: 'icomoon' !important;
      speak: none;
      font-style: normal;
      font-weight: normal;
      font-variant: normal;
      text-transform: none;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;

      &:before {
        display: block;
        font-size: 30px;
        line-height: 40px;
        text-align: center;
      }
    }
  }

  .slides-container {
    height: 100%;
    width: 100%;
    overflow: hidden;
    position: relative;
  }

  .inner {
    height: 100%;
    position: relative;
    width: 100%;

    -webkit-transform: translateZ(0);
    -webkit-transition: all 800ms cubic-bezier(0.770, 0.000, 0.175, 1.000);
    -moz-transition: all 800ms cubic-bezier(0.770, 0.000, 0.175, 1.000);
    -ms-transition: all 800ms cubic-bezier(0.770, 0.000, 0.175, 1.000);
    -o-transition: all 800ms cubic-bezier(0.770, 0.000, 0.175, 1.000);
    transition: all 800ms cubic-bezier(0.770, 0.000, 0.175, 1.000); /* easeInOutQuart */

    -webkit-transition-timing-function: cubic-bezier(0.770, 0.000, 0.175, 1.000);
    -moz-transition-timing-function: cubic-bezier(0.770, 0.000, 0.175, 1.000);
    -ms-transition-timing-function: cubic-bezier(0.770, 0.000, 0.175, 1.000);
    -o-transition-timing-function: cubic-bezier(0.770, 0.000, 0.175, 1.000);
    transition-timing-function: cubic-bezier(0.770, 0.000, 0.175, 1.000); /* easeInOutQuart */

    .slide {
      background-size: cover;
      background-position: 50% 100%;
      float: left;
      height: 100%;
    }
  }
}
